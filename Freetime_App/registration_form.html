<html>
<head>
  <!--load  jquery, bootstrap CSS, firebase-->

  <!--jquery-->
  <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>

  <!--Bootstrap-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>

  <script src="https://www.gstatic.com/firebasejs/4.3.0/firebase.js"></script>
  <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>

   <!--Firebase Initialize-->
   <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.2.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.2.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
    apiKey: "AIzaSyBJg5gSjIgoTZuZap6WjXHMjS6lg54M5xs",
    authDomain: "part-time-991f9.firebaseapp.com",
    projectId: "part-time-991f9",
    storageBucket: "part-time-991f9.appspot.com",
    messagingSenderId: "637796032381",
    appId: "1:637796032381:web:62ba60e5fb517c37f63614",
    measurementId: "G-2T3MTNDD7Q"
    };
  
    // Initialize Firebase
    // const app = initializeApp(firebaseConfig);
    // const analytics = getAnalytics(app);

    // Initialize Firebase once
    firebase.initializeApp(firebaseConfig);

    // Use the Firebase instance
    const firebaseApp = firebase.app();
    </script>


 </head>

 <body>
    <!--User Registration Page-->
    <div class="container" id="registration-form">
      <div class="card card-body bg-light"> 
    <form>
        <div class="mb-3">
          <label for="inputemail" class="form-label">Email address</label>
          <input type="email" class="form-control" id="inputemail" aria-describedby="emailHelp">
          <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
        </div> 
        <div class="mb-3">
          <label for="inputpassword" class="form-label">Password</label>
          <input type="password" class="form-control" id="inputpassword">
        </div>
        <div class="mb-3">
            <label for="confirmpassword" class="form-label">Confirm Password</label>
            <input type="password" class="form-control" id="confirmpassword">
          </div>
        <button id="register-new-user"type="button" class="btn btn-primary w-100" style="margin:5px;">Register</button>  
      
    </form>
    </div>
    </div>


   

    <script>

        //button listener

        $("#register-new-user").click(function(){
            var email = $("#inputemail").val();
            var password = $("#inputpassword").val();
            console.log("email"+email, "password"+password);
            CreatenewUser(email,password);
            alert("User registration success!");
                    // Go to the next page

        });

        function CreatenewUser(email, password){


        
        firebase.auth().createUserWithEmailAndPassword(email, password)
        .then((userCredential) => {
        // Signed in 
        var user = userCredential.user;
        const currentUrl = window.location.href;

        // Go to the next page
        window.location.href = "login.html";
        
        // ...
        })
        .catch((error) => {
        var errorCode = error.code;
        var errorMessage = error .message;
        console.log(errorMessage);
        alert(errorMessage);
        // ..
        });
        
    }
  

    </script>

</body>

</html>